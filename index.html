<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cowboys AC Job Breakdown</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    h2 { text-align: center; }
    label { display: block; margin-top: 10px; }
    input, select { padding: 5px; width: 100%; max-width: 300px; }
    .section { background: #fff; padding: 15px; margin-top: 20px; border-radius: 8px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .row { display: flex; flex-wrap: wrap; gap: 20px; }
    .col { flex: 1; min-width: 250px; }
    .logo-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .logo-header img { height: 60px; }
    .logo-header .date { font-weight: bold; }
  </style>
</head>
<body>

<div class="logo-header">
  <img src="logo.png" alt="Cowboys AC Logo">
  <div class="date">May 8, 2025</div>
</div>

<h2>Job Breakdown Form</h2>

<div class="section">
  <div class="row">
    <div class="col">
      <label>Technician</label>
      <select id="technician">
        <option>Employee 1</option>
        <option>Employee 2</option>
        <option>Employee 3</option>
        <option>Employee 4</option>
        <option>Employee 5</option>
        <option>Employee 6</option>
        <option>Employee 7</option>
        <option>Employee 8</option>
        <option>Employee 9</option>
        <option>Employee 10</option>
      </select>
    </div>
    <div class="col">
      <label>Invoice #</label>
      <input type="text" id="invoice">
    </div>
  </div>
  <div class="row">
    <div class="col"><label>Customer Name</label><input type="text" id="customer"></div>
    <div class="col"><label>Address</label><input type="text" id="address"></div>
    <div class="col"><label>City</label><input type="text" id="city"></div>
    <div class="col"><label>State</label><input type="text" id="state"></div>
  </div>
</div>

<div class="section">
  <h3>Job Cost</h3>
  <div class="row">
    <div class="col"><label>Book Price</label><input type="number" id="bookPrice"></div>
    <div class="col"><label>Sold Price</label><input type="number" id="soldPrice" oninput="calculateAll()"></div>
  </div>
</div>

<div class="section">
  <h3>Method of Payment</h3>
  <div class="row">
    <div class="col">
      <select id="paymentMethod" onchange="calculateAll()">
        <option value="0">Cash (0%)</option>
        <option value="0">Financed (0%)</option>
        <option value="0.033">Credit Card (3.3%)</option>
      </select>
    </div>
  </div>
</div>

<div class="section">
  <h3>Office Expenses</h3>
  <div class="row">
    <div class="col"><label>Finance Charges</label><input type="number" id="financeCharge" oninput="calculateAll()"></div>
    <div class="col"><label>Installer Cost</label><input type="number" id="installerCost" oninput="calculateAll()"></div>
    <div class="col"><label>Permit</label><input type="number" id="permitCost" oninput="calculateAll()"></div>
  </div>
</div>

<div class="section">
  <h3>Material Costs</h3>
  <div class="row">
    <div class="col"><label>Supplier 1</label><input type="number" id="supplier1" oninput="calculateAll()"></div>
    <div class="col"><label>Supplier 2</label><input type="number" id="supplier2" oninput="calculateAll()"></div>
    <div class="col"><label>Supplier 3</label><input type="number" id="supplier3" oninput="calculateAll()"></div>
  </div>
</div>

<div class="section">
  <h3>Results</h3>
  <div id="results"></div>
</div>

<script>
function calculateAll() {
  const sold = parseFloat(document.getElementById("soldPrice").value) || 0;
  const methodFee = parseFloat(document.getElementById("paymentMethod").value) || 0;
  const finance = parseFloat(document.getElementById("financeCharge").value) || 0;
  const installer = parseFloat(document.getElementById("installerCost").value) || 0;
  const permit = parseFloat(document.getElementById("permitCost").value) || 0;

  const mat1 = parseFloat(document.getElementById("supplier1").value) || 0;
  const mat2 = parseFloat(document.getElementById("supplier2").value) || 0;
  const mat3 = parseFloat(document.getElementById("supplier3").value) || 0;
  const materialTotal = mat1 + mat2 + mat3;

  const paymentFee = sold * methodFee;
  const office5Percent = sold * 0.05;
  const officeTotal = finance + installer + permit + office5Percent + paymentFee;

  const totalCost = materialTotal + officeTotal;
  const profit = sold - totalCost;
  const margin = (profit / sold) * 100;
  const commissionRate = margin >= 58 ? 0.10 : 0.05;
  const commission = profit * commissionRate;
  const finalProfit = profit - commission;

  document.getElementById("results").innerHTML = `
    <p><strong>Total Material Cost:</strong> $${materialTotal.toFixed(2)}</p>
    <p><strong>Total Office Expenses (incl. 5% overhead & payment fee):</strong> $${officeTotal.toFixed(2)}</p>
    <p><strong>Total Cost (Materials + Office):</strong> $${totalCost.toFixed(2)}</p>
    <p><strong>Profit Before Commission:</strong> $${profit.toFixed(2)}</p>
    <p><strong>Profit Margin:</strong> ${margin.toFixed(2)}%</p>
    <p><strong>Commission (${(commissionRate*100).toFixed(0)}%):</strong> $${commission.toFixed(2)}</p>
    <h3>Final Net Profit: $${finalProfit.toFixed(2)}</h3>
  `;
}
</script>

</body>
</html>
